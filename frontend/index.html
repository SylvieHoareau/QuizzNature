<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Quizz Nature</title>
    <!--style local-->
    <link rel="stylesheet" media="screen" href="../frontend/css/style.css"></link>
    <link rel="stylesheet" media="screen and (min-width: 1024px)" href="../frontend/css/desktop.css"></link>
    <link rel="stylesheet" media="screen and (max-width: 320px)" href="../frontend/css/mobile.css"></link>
    <link rel="stylesheet" media="screen and (min-width: 768px and max-width: 1024px)" href="../frontend/css/tablet.css"></link>
    <link rel="stylesheet" meadia="print" href="../frontend/css/print.css"></link>
    <!--fontawesome-->
    <link rel="stylesheet" media="screen" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css"></link>
</head>
<body>
    <header>
        <img id="logo" src="../frontend/assets/logo.png" alt="logo" width="75px" height="75px">
        <h1>Quizz Nature</h1>
        <ul>
            <li>
                <i class="fa-solid fa-house"></i>
                <a href="../index.html">Accueil</a>
            </li>
            <li>
                <i class="fa-solid fa-user"></i>
                <a href="../html/login.html">Connexion</a>
            </li>
        </ul>
    </header>
    <div class="presentation">
        <h1>Bienvenue</h1>
        <p>La nature est un trésor, préservons-la !</p>
        <p>Augmentez vos connaissances sur l'environnement grâce à nos quizz.</p>
    </div>
    <div class="card-container">
       <!--  <div class="card">
            <div class="card-header">
                <i class="fa-regular fa-gem"></i>
                <p>Quizz Rubis</p>
            </div>
            <div class="card-body">
                <p>Quizz pour la nature</p>
            </div>
            <div class="card-footer">
                <button role="button"><a href="../frontend/html/quizz.html">Démarrez le quizz</a></button>
            </div>
        </div> -->
    </div>
    
    <footer>
        <p>Quizz Nature 2024</p>
    </footer>
    <script>
        document.addEventListener("DOMContentLoaded", () => {
            // URL de l'API
            const apiUrl = 'http://localhost:1337/api/quizzes';

            // Requête pour récupérer les données
            fetch(apiUrl)
                .then(response => response.json())
                .then(data => {
                    // Traiter les données et mettre à jour l'interface utilisateur
                    displayQuizzes(data.data);
                })
                .catch(error => console.error("Erreur lors de la récupération des données :", error));

            const displayQuizzes = (quizzes) => {
                // Récupérer l'élément de la card-container où on souhaite afficher le quizz
                const cardContainer = document.querySelector(".card-container");

                // Parcourir les quizz et créez dynamiquement les éléments HTML
                quizzes.forEach(quizz => {
                    const card = document.createElement("div");
                    card.classList.add("card");

                    const cardHeader = document.createElement("div");
                    cardHeader.classList.add("card-header");
                    cardHeader.innerHTML = `<i class="fa-regular fa-gem"></i><p>${quizz.attributes.name}</p>`;

                    const cardBody = document.createElement("div");
                    cardBody.classList.add("card-body");
                    cardBody.innerHTML = `<p>${quizz.attributes.description}</p>`;

                    const cardFooter = document.createElement("div");
                    cardFooter.classList.add("card-footer");
                    cardFooter.innerHTML = `<button role="button"><a href="../frontend/html/quizz.html?id=${quizz.id}">Démarrez le quizz</a></button>`;

                    card.appendChild(cardHeader);
                    card.appendChild(cardBody);
                    card.appendChild(cardFooter);

                    cardContainer.appendChild(card)
                })
            }
        })
    </script>
</body>
</html>
